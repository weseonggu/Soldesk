package com.we.jan30.main;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.SQLException;
import java.util.Scanner;

public class InsertMain {
	public static void main(String[] args) {
		String addr = "jdbc:oracle:thin:@192.168.0.170:1521:xe";
		Scanner k = new Scanner(System.in);

		Connection con = null;
		PreparedStatement pstmt = null;
		try {
			// 연결-------------------------------------------------------
			con = DriverManager.getConnection(addr, "we", "3750");
			System.out.println("연결 성공");
			// 데이터 -----------------------------------------------------
			System.out.print("휴개소이름: ");
			String n =k.next();
			System.out.println("방향: ");
			String s= k.next();
			System.out.println("위치: ");
			String w = k.next();
			System.out.println("주차 대수: ");
			int p = k.nextInt();
			
			// sql---------------------------------------------------------
			// 1) 자바 변수 값 들어갈 자리에 ?로 변경
			// 2) ;빼기
			String sql = "insert into jan30_restarea "+
					"VALUES (jan30_rest_seq.nextval, ?, ?, ?, ?)";
			
			//sql완성, sql을 서버로 전송, 원격 실행, 실행 결과 받아와서.. 
			//를 다해주는 거 (1회용 임) -> PreparedStatement
			pstmt = con.prepareStatement(sql);
			
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		try {
			pstmt.close();
		} catch (SQLException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		k.close();
		try {
			con.close();
			
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
}
